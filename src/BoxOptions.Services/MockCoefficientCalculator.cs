using BoxOptions.Common.Interfaces;
using System;
using System.Threading.Tasks;

namespace BoxOptions.Services
{
    /// <summary>
    /// Mock Coefficient Calculator for testing purposes.
    /// </summary>
    public class MockCoefficientCalculator : ICoefficientCalculator
    {
        public async Task<string> ChangeAsync(string userId, string pair, int timeToFirstOption, int optionLen, double priceSize, int nPriceIndex, int nTimeIndex)
        {
            return await Task.FromResult("OK");
        }

        public double GetVolatility(string asset)
        {
            throw new NotImplementedException();
        }

        public async Task<string> RequestAsync(string userId, string pair)
        {
            // result copied from command request?pair=EURUSD on 2017-05-03 from proxy Coefficient Calculator.
            string result = "[[{\"hitCoeff\":10.0,\"missCoeff\":0.9800000913737914},{\"hitCoeff\":10.0,\"missCoeff\":0.9800014972296471},{\"hitCoeff\":10.0,\"missCoeff\":0.98003250461086},{\"hitCoeff\":10.0,\"missCoeff\":0.9806602111395613},{\"hitCoeff\":10.0,\"missCoeff\":0.9896873669354151},{\"hitCoeff\":5.9448320415416065,\"missCoeff\":1.0786941745259628},{\"hitCoeff\":1.5578322964177558,\"missCoeff\":1.8279969067802753},{\"hitCoeff\":1.0589468371297193,\"missCoeff\":7.186708435891742},{\"hitCoeff\":1.5588250817643468,\"missCoeff\":1.826542445096549},{\"hitCoeff\":5.943338509337868,\"missCoeff\":1.0787238728686608},{\"hitCoeff\":10.0,\"missCoeff\":0.9897034701829548},{\"hitCoeff\":10.0,\"missCoeff\":0.9806618855363294},{\"hitCoeff\":10.0,\"missCoeff\":0.9800325096612164},{\"hitCoeff\":10.0,\"missCoeff\":0.9800014845325287},{\"hitCoeff\":10.0,\"missCoeff\":0.9800000891223724}],[{\"hitCoeff\":10.0,\"missCoeff\":0.9801011877446768},{\"hitCoeff\":10.0,\"missCoeff\":0.9803558683734406},{\"hitCoeff\":10.0,\"missCoeff\":0.9815738240664615},{\"hitCoeff\":10.0,\"missCoeff\":0.9880049961460604},{\"hitCoeff\":10.0,\"missCoeff\":1.0217103543217882},{\"hitCoeff\":3.369429647096948,\"missCoeff\":1.1850698586565744},{\"hitCoeff\":1.471499124861089,\"missCoeff\":1.976949893122368},{\"hitCoeff\":1.1333613253378965,\"missCoeff\":4.175068893154111},{\"hitCoeff\":1.472443184825028,\"missCoeff\":1.9750386462838427},{\"hitCoeff\":3.3703215451642587,\"missCoeff\":1.1849933411642022},{\"hitCoeff\":10.0,\"missCoeff\":1.0217433893459105},{\"hitCoeff\":10.0,\"missCoeff\":0.988016889478756},{\"hitCoeff\":10.0,\"missCoeff\":0.9815754820742189},{\"hitCoeff\":10.0,\"missCoeff\":0.9803553291804887},{\"hitCoeff\":10.0,\"missCoeff\":0.980100484503502}],[{\"hitCoeff\":10.0,\"missCoeff\":0.9809727189198625},{\"hitCoeff\":10.0,\"missCoeff\":0.9823721660417788},{\"hitCoeff\":10.0,\"missCoeff\":0.9869698877324893},{\"hitCoeff\":10.0,\"missCoeff\":1.0033137061421284},{\"hitCoeff\":6.918955701561183,\"missCoeff\":1.0625060877068326},{\"hitCoeff\":2.643756447836218,\"missCoeff\":1.2745142605681647},{\"hitCoeff\":1.4432599047917367,\"missCoeff\":2.0377215833524045},{\"hitCoeff\":1.1844644363886543,\"missCoeff\":3.3765047841796196},{\"hitCoeff\":1.444104732727472,\"missCoeff\":2.035796171524357},{\"hitCoeff\":2.6450118061098142,\"missCoeff\":1.274292207539868},{\"hitCoeff\":6.917298996078321,\"missCoeff\":1.062529109671528},{\"hitCoeff\":10.0,\"missCoeff\":1.0033339536470447},{\"hitCoeff\":10.0,\"missCoeff\":0.986973895659053},{\"hitCoeff\":10.0,\"missCoeff\":0.9823694654243162},{\"hitCoeff\":10.0,\"missCoeff\":0.980968227326491}],[{\"hitCoeff\":10.0,\"missCoeff\":0.9833928248926349},{\"hitCoeff\":10.0,\"missCoeff\":0.9868884844518839},{\"hitCoeff\":10.0,\"missCoeff\":0.9963389575066524},{\"hitCoeff\":10.0,\"missCoeff\":1.0235738338506701},{\"hitCoeff\":4.918300289328922,\"missCoeff\":1.1044191564893326},{\"hitCoeff\":2.313300025272626,\"missCoeff\":1.3475091807635775},{\"hitCoeff\":1.4332317681765974,\"missCoeff\":2.0611245689403574},{\"hitCoeff\":1.2222680287444687,\"missCoeff\":3.0025532957831014},{\"hitCoeff\":1.4339971813356047,\"missCoeff\":2.0593018550434152},{\"hitCoeff\":2.3145906232128945,\"missCoeff\":1.347153785945516},{\"hitCoeff\":4.918579227181263,\"missCoeff\":1.1044103448823295},{\"hitCoeff\":10.0,\"missCoeff\":1.0235938223630356},{\"hitCoeff\":10.0,\"missCoeff\":0.9963428310605107},{\"hitCoeff\":10.0,\"missCoeff\":0.9868807155556083},{\"hitCoeff\":10.0,\"missCoeff\":0.9833797133666744}],[{\"hitCoeff\":10.0,\"missCoeff\":0.9876302818716487},{\"hitCoeff\":10.0,\"missCoeff\":0.9938173474689935},{\"hitCoeff\":10.0,\"missCoeff\":1.0086513496945833},{\"hitCoeff\":8.380446334296645,\"missCoeff\":1.0462122225965131},{\"hitCoeff\":3.957025406320259,\"missCoeff\":1.1445938254204095},{\"hitCoeff\":2.127320675406125,\"missCoeff\":1.4070819924225209},{\"hitCoeff\":1.4305717338620862,\"missCoeff\":2.0675071895876678},{\"hitCoeff\":1.2517965165223768,\"missCoeff\":2.782819279178138},{\"hitCoeff\":1.4312765026773149,\"missCoeff\":2.065808804785864},{\"hitCoeff\":2.1285737903455293,\"missCoeff\":1.4066160381847053},{\"hitCoeff\":3.957973813419698,\"missCoeff\":1.1445414065737933},{\"hitCoeff\":8.379273699513343,\"missCoeff\":1.0462227158906459},{\"hitCoeff\":10.0,\"missCoeff\":1.0086508773581728},{\"hitCoeff\":10.0,\"missCoeff\":0.9938012773743452},{\"hitCoeff\":10.0,\"missCoeff\":0.9876039151277547}],[{\"hitCoeff\":10.0,\"missCoeff\":0.9935416849046639},{\"hitCoeff\":10.0,\"missCoeff\":1.002670525683012},{\"hitCoeff\":10.0,\"missCoeff\":1.022856716810448},{\"hitCoeff\":6.443965039836674,\"missCoeff\":1.069678465441764},{\"hitCoeff\":3.405047448611366,\"missCoeff\":1.182057902116754},{\"hitCoeff\":2.009360474542278,\"missCoeff\":1.4560237177533812},{\"hitCoeff\":1.4312921672249015,\"missCoeff\":2.065771115889562},{\"hitCoeff\":1.2757596738599664,\"missCoeff\":2.6367505421039947},{\"hitCoeff\":1.431949827694579,\"missCoeff\":2.064191142409584},{\"hitCoeff\":2.010561390735474,\"missCoeff\":1.45546900592725},{\"hitCoeff\":3.4062599006700163,\"missCoeff\":1.1819569296202297},{\"hitCoeff\":6.444353777445537,\"missCoeff\":1.0696720856586017},{\"hitCoeff\":10.0,\"missCoeff\":1.022847399507118},{\"hitCoeff\":10.0,\"missCoeff\":1.0026430231858525},{\"hitCoeff\":10.0,\"missCoeff\":0.99349834250819}],[{\"hitCoeff\":10.0,\"missCoeff\":1.0008231939379453},{\"hitCoeff\":10.0,\"missCoeff\":1.0129205351680826},{\"hitCoeff\":9.404841071593427,\"missCoeff\":1.0381613345386613},{\"hitCoeff\":5.312569840347885,\"missCoeff\":1.0930968496887876},{\"hitCoeff\":3.051212657832313,\"missCoeff\":1.2165763834761532},{\"hitCoeff\":1.9285606813067369,\"missCoeff\":1.4965721177953277},{\"hitCoeff\":1.4336641730590285,\"missCoeff\":2.0600941072687347},{\"hitCoeff\":1.2957582211241343,\"missCoeff\":2.531820244792188},{\"hitCoeff\":1.4342843287418579,\"missCoeff\":2.058619641925701},{\"hitCoeff\":1.9297101198759463,\"missCoeff\":1.4959469081618348},{\"hitCoeff\":3.052531717599489,\"missCoeff\":1.216425814784414},{\"hitCoeff\":5.313661005040648,\"missCoeff\":1.093068373236869},{\"hitCoeff\":9.408052301192647,\"missCoeff\":1.0381391740925314},{\"hitCoeff\":10.0,\"missCoeff\":1.012878803998385},{\"hitCoeff\":10.0,\"missCoeff\":1.0007600480576624}],[{\"hitCoeff\":10.0,\"missCoeff\":1.0091541070324206},{\"hitCoeff\":10.0,\"missCoeff\":1.0241220233545114},{\"hitCoeff\":7.600340362218729,\"missCoeff\":1.0540143214986883},{\"hitCoeff\":4.58340140881312,\"missCoeff\":1.1159826298567705},{\"hitCoeff\":2.806893368762468,\"missCoeff\":1.2482148878409496},{\"hitCoeff\":1.8701637051713582,\"missCoeff\":1.5304605469234156},{\"hitCoeff\":1.4368548658165035,\"missCoeff\":2.0525506865823977},{\"hitCoeff\":1.3128076119395293,\"missCoeff\":2.4523220936696366},{\"hitCoeff\":1.437444472353623,\"missCoeff\":2.0511682610981694},{\"hitCoeff\":1.871266426719953,\"missCoeff\":1.529779488276365},{\"hitCoeff\":2.8082505086519007,\"missCoeff\":1.2480157875964777},{\"hitCoeff\":4.5848332496676045,\"missCoeff\":1.1159286175151601},{\"hitCoeff\":7.603762620429645,\"missCoeff\":1.0539760809798187},{\"hitCoeff\":10.0,\"missCoeff\":1.0240637153273697},{\"hitCoeff\":10.0,\"missCoeff\":1.00906906136259}],[{\"hitCoeff\":10.0,\"missCoeff\":1.0057973899147215},{\"hitCoeff\":10.0,\"missCoeff\":1.0196513940324294},{\"hitCoeff\":8.21329189371075,\"missCoeff\":1.0477423235782932},{\"hitCoeff\":4.839738537206528,\"missCoeff\":1.1069516044355263},{\"hitCoeff\":2.8978725091742676,\"missCoeff\":1.2354914352523714},{\"hitCoeff\":1.8956493602760676,\"missCoeff\":1.5151393461928104},{\"hitCoeff\":1.4398498929461494,\"missCoeff\":2.0455651061712468},{\"hitCoeff\":1.3105906665398843,\"missCoeff\":2.462195505180372},{\"hitCoeff\":1.4404524786369652,\"missCoeff\":2.044170620713133},{\"hitCoeff\":1.896776347279889,\"missCoeff\":1.5144815029901773},{\"hitCoeff\":2.8992381258384636,\"missCoeff\":1.2353096426145307},{\"hitCoeff\":4.841103100981072,\"missCoeff\":1.1069067380965547},{\"hitCoeff\":8.216731221310395,\"missCoeff\":1.047710128373577},{\"hitCoeff\":10.0,\"missCoeff\":1.0195995464318566},{\"hitCoeff\":10.0,\"missCoeff\":1.0057209753531429}],[{\"hitCoeff\":10.0,\"missCoeff\":1.0132860747913404},{\"hitCoeff\":10.0,\"missCoeff\":1.029517144212277},{\"hitCoeff\":7.001741520549178,\"missCoeff\":1.0613718088575999},{\"hitCoeff\":4.333775393731197,\"missCoeff\":1.1261039999625189},{\"hitCoeff\":2.722769957040148,\"missCoeff\":1.2611616059942854},{\"hitCoeff\":1.8527382998707664,\"missCoeff\":1.5414512392461275},{\"hitCoeff\":1.4424855086326718,\"missCoeff\":2.0394926562102973},{\"hitCoeff\":1.3237661971746189,\"missCoeff\":2.405387382550299},{\"hitCoeff\":1.4430643863035961,\"missCoeff\":2.0381681824236515},{\"hitCoeff\":1.85382675244595,\"missCoeff\":1.540751886605015},{\"hitCoeff\":2.724146990188735,\"missCoeff\":1.2609396242153745},{\"hitCoeff\":4.335330396621655,\"missCoeff\":1.1260362891515425},{\"hitCoeff\":7.0052344945687945,\"missCoeff\":1.0613246356538806},{\"hitCoeff\":10.0,\"missCoeff\":1.0294501977378692},{\"hitCoeff\":10.0,\"missCoeff\":1.013190192960044}],[{\"hitCoeff\":10.0,\"missCoeff\":1.0212489119677715},{\"hitCoeff\":9.183838254585062,\"missCoeff\":1.0397281400234997},{\"hitCoeff\":6.1360133610584535,\"missCoeff\":1.0750346645144089},{\"hitCoeff\":3.956460415693513,\"missCoeff\":1.1446250685601105},{\"hitCoeff\":2.5868023624580143,\"missCoeff\":1.2849534973613184},{\"hitCoeff\":1.8186350492651013,\"missCoeff\":1.564282758548416},{\"hitCoeff\":1.4453525889171925,\"missCoeff\":2.0329650240909984},{\"hitCoeff\":1.3355033511939836,\"missCoeff\":2.3583273725952223},{\"hitCoeff\":1.4459110959580441,\"missCoeff\":2.0317027910494856},{\"hitCoeff\":1.8196891447541739,\"missCoeff\":1.5635492849481238},{\"hitCoeff\":2.5881756313246185,\"missCoeff\":1.2846930885256593},{\"hitCoeff\":3.958119373862897,\"missCoeff\":1.1445333643440976},{\"hitCoeff\":6.13947157455945,\"missCoeff\":1.0749709660997289},{\"hitCoeff\":9.19528895557816,\"missCoeff\":1.0396448892606864},{\"hitCoeff\":10.0,\"missCoeff\":1.0211326325705092}],[{\"hitCoeff\":10.0,\"missCoeff\":1.0295548524507159},{\"hitCoeff\":7.965740785317954,\"missCoeff\":1.0501428832042896},{\"hitCoeff\":5.491916685236428,\"missCoeff\":1.0886012961195277},{\"hitCoeff\":3.665568590768188,\"missCoeff\":1.1624567064436206},{\"hitCoeff\":2.4784212478201177,\"missCoeff\":1.3070108460573722},{\"hitCoeff\":1.7909838510625955,\"missCoeff\":1.5842043862624084},{\"hitCoeff\":1.4483285282719223,\"missCoeff\":2.02627407988158},{\"hitCoeff\":1.3460542846259302,\"missCoeff\":2.3185992749701856},{\"hitCoeff\":1.4488693305978668,\"missCoeff\":2.0250672885240517},{\"hitCoeff\":1.7920073209861798,\"missCoeff\":1.5834428352257917},{\"hitCoeff\":2.4797827586326906,\"missCoeff\":1.3067139838617154},{\"hitCoeff\":3.6672820658553382,\"missCoeff\":1.1623403676993758},{\"hitCoeff\":5.495300820866893,\"missCoeff\":1.0885199014283893},{\"hitCoeff\":7.975764758102755,\"missCoeff\":1.0500423780591628},{\"hitCoeff\":10.0,\"missCoeff\":1.0294175036442206}],[{\"hitCoeff\":9.414092262749147,\"missCoeff\":1.0380975385062103},{\"hitCoeff\":7.055408796878436,\"missCoeff\":1.0606530089385529},{\"hitCoeff\":4.997009040918549,\"missCoeff\":1.1019813037532904},{\"hitCoeff\":3.4352227815136143,\"missCoeff\":1.1795745574248546},{\"hitCoeff\":2.3901690233068384,\"missCoeff\":1.3274760769109455},{\"hitCoeff\":1.7681906533801321,\"missCoeff\":1.6016769989578659},{\"hitCoeff\":1.4513373112504695,\"missCoeff\":2.0195951865130684},{\"hitCoeff\":1.355612374605947,\"missCoeff\":2.28453636016134},{\"hitCoeff\":1.451862572246886,\"missCoeff\":2.018437945325369},{\"hitCoeff\":1.7691867571874214,\"missCoeff\":1.600892324329299},{\"hitCoeff\":2.3915146941154526,\"missCoeff\":1.3271448097868128},{\"hitCoeff\":3.4369615678986625,\"missCoeff\":1.179433318942419},{\"hitCoeff\":5.000303210087293,\"missCoeff\":1.1018813543144077},{\"hitCoeff\":7.064347318580616,\"missCoeff\":1.0605345215095823},{\"hitCoeff\":9.437220422684042,\"missCoeff\":1.0379386577989285}],[{\"hitCoeff\":8.316256795165637,\"missCoeff\":1.046791555105172},{\"hitCoeff\":6.354222591655367,\"missCoeff\":1.071175977854142},{\"hitCoeff\":4.6066087337331565,\"missCoeff\":1.1151124524248317},{\"hitCoeff\":3.24877229833605,\"missCoeff\":1.1959758387209563},{\"hitCoeff\":2.317027241915159,\"missCoeff\":1.3464846793234544},{\"hitCoeff\":1.7491398377279617,\"missCoeff\":1.6170753092798567},{\"hitCoeff\":1.4543313809424374,\"missCoeff\":2.0130330644083276},{\"hitCoeff\":1.3643288884814369,\"missCoeff\":2.254949697213997},{\"hitCoeff\":1.4548428808301028,\"missCoeff\":2.0119202830700544},{\"hitCoeff\":1.7501113984976995,\"missCoeff\":1.616271584806914},{\"hitCoeff\":2.318355179594606,\"missCoeff\":1.3461210472906175},{\"hitCoeff\":3.2505187630849903,\"missCoeff\":1.1958097118449833},{\"hitCoeff\":4.609808560826646,\"missCoeff\":1.114993345183033},{\"hitCoeff\":6.3623104922588185,\"missCoeff\":1.0710389693617173},{\"hitCoeff\":8.336159028832103,\"missCoeff\":1.0466108492325232}],[{\"hitCoeff\":7.464162497309604,\"missCoeff\":1.0555687415611976},{\"hitCoeff\":5.800499563974604,\"missCoeff\":1.0816492157082542},{\"hitCoeff\":4.291866356557576,\"missCoeff\":1.1279528299895882},{\"hitCoeff\":3.095063973227114,\"missCoeff\":1.211671479540342},{\"hitCoeff\":2.2555013546531195,\"missCoeff\":1.3641626653021144},{\"hitCoeff\":1.7330282563529342,\"missCoeff\":1.6307059939200257},{\"hitCoeff\":1.45728102709382,\"missCoeff\":2.0066488131397686},{\"hitCoeff\":1.3723241872763075,\"missCoeff\":2.2289670937746724},{\"hitCoeff\":1.4577802489706444,\"missCoeff\":2.0055760907984},{\"hitCoeff\":1.7339777146158744,\"missCoeff\":1.6298865821911432},{\"hitCoeff\":2.2568109104580776,\"missCoeff\":1.3637686504607045},{\"hitCoeff\":3.096807349891079,\"missCoeff\":1.211480677741039},{\"hitCoeff\":4.294973150253759,\"missCoeff\":1.1278141685589491},{\"hitCoeff\":5.807904607000143,\"missCoeff\":1.0814933060793148},{\"hitCoeff\":7.481600860231569,\"missCoeff\":1.0553660537664178}]]";

            return await Task.FromResult(result);
        }

        public bool ValidateChange(string userId, string pair, int timeToFirstOption, int optionLen, double priceSize, int nPriceIndex, int nTimeIndex)
        {
            throw new NotImplementedException();
        }


        public bool ValidateChangeResult(string result, out string errorMessage)
        {
            throw new NotImplementedException();
        }

        public bool ValidateRequest(string userId, string pair)
        {
            throw new NotImplementedException();
        }

        public bool ValidateRequestResult(string result, out string errorMessage)
        {
            throw new NotImplementedException();
        }
    }
}
